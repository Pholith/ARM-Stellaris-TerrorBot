


ARM Macro Assembler    Page 1 


    1 00000000         
    2 00000000         
    3 00000000         
    4 00000000         
    5 00000000         
    6 00000000         ; Broches select
    7 00000000 000000FF 
                       LEDS_ALL_PIN
                               EQU              0xFF        ; 11111111 All port
                                                             
    8 00000000 0000003C 
                       LEDS_FORWARD_PIN
                               EQU              0x3C        ; 00111100 led1 & l
                                                            ed2 on pin 5 & 6
    9 00000000 00000000 
                       LEDS_BACKWARD_PIN
                               EQU              0x00        ; 00000000 (interne
                                                            t leds activates if
                                                             bit 3 & 4 are 0)
   10 00000000 0000000C 
                       LEDS_STOP_PIN
                               EQU              0x0C        ; 00001100 
   11 00000000         
   12 00000000         
   13 00000000         
   14 00000000         ;GPIO_O_DR2R : The GPIODR2R register is the 2-mA drive c
                       ontrol register; By default, all GPIO pins have 2-mA dri
                       ve.
   15 00000000         
   16 00000000         
   17 00000000 40025000 
                       GPIO_PORTF_BASE
                               EQU              0x40025000  ; GPIO Port F (APB)
                                                             base: 0x4002.5000 
                                                            (p416 datasheet de 
                                                            lm3s9B92.pdf)
   18 00000000 00000400 
                       GPIO_O_DIR
                               EQU              0x00000400  ; GPIO Direction (p
                                                            417 datasheet de lm
                                                            3s9B92.pdf)
   19 00000000 00000500 
                       GPIO_O_DR2R
                               EQU              0x00000500  ; GPIO 2-mA Drive S
                                                            elect (p428 datashe
                                                            et de lm3s9B92.pdf)
                                                            
   20 00000000 0000051C 
                       GPIO_O_DEN
                               EQU              0x0000051C  ; GPIO Digital Enab
                                                            le (p437 datasheet 
                                                            de lm3s9B92.pdf)
   21 00000000         
   22 00000000         
   23 00000000         
   24 00000000                 AREA             |.text|, CODE, READONLY
   25 00000000                 ENTRY
   26 00000000         
   27 00000000         ;; The EXPORT command specifies that a symbol can be acc



ARM Macro Assembler    Page 2 


                       essed by other shared objects or executables.
   28 00000000                 EXPORT           LEDS_INIT
   29 00000000                 EXPORT           LEDS_FORWARD_ON
   30 00000000                 EXPORT           LEDS_BACKWARD_ON
   31 00000000                 EXPORT           LEDS_ON
   32 00000000                 EXPORT           LEDS_OFF
   33 00000000                 EXPORT           LEDS_BACKWARD_INVERT
   34 00000000         
   35 00000000         
   36 00000000         LEDS_INIT
   37 00000000 4E10            ldr              r6, = GPIO_PORTF_BASE+GPIO_O_DI
R 
                                                            ;; 1 Pin du portF e
                                                            n sortie (broche 4 
                                                            : 00010000)
   38 00000002 F04F 00FF       ldr              r0, = LEDS_ALL_PIN
   39 00000006 6030            str              r0, [r6]
   40 00000008         
   41 00000008 4E0F            ldr              r6, = GPIO_PORTF_BASE+GPIO_O_DE
N 
                                                            ;; Enable Digital F
                                                            unction 
   42 0000000A F04F 00FF       ldr              r0, = LEDS_ALL_PIN
   43 0000000E 6030            str              r0, [r6]
   44 00000010         
   45 00000010 4E0E            ldr              r6, = GPIO_PORTF_BASE+GPIO_O_DR
2R 
                                                            ;; Choix de l'inten
                                                            sité de sortie (2mA
                                                            )
   46 00000012 F04F 00FF       ldr              r0, = LEDS_ALL_PIN
   47 00000016 6030            str              r0, [r6]
   48 00000018         
   49 00000018 4D0D            ldr              r5, = GPIO_PORTF_BASE + (LEDS_A
LL_PIN<<2) 
                                                            ;; @data Register =
                                                             @base + (mask<<2) 
                                                            ==> LED1
   50 0000001A         
   51 0000001A 4770            BX               LR          ; FIN du sous progr
                                                            amme d'init.
   52 0000001C         
   53 0000001C         
   54 0000001C         LEDS_FORWARD_ON
   55 0000001C F04F 003C       mov              r0, #LEDS_FORWARD_PIN
   56 00000020 6028            str              r0, [r5]
   57 00000022 4770            BX               LR
   58 00000024         
   59 00000024         LEDS_BACKWARD_ON
   60 00000024 F04F 0000       mov              r0, #LEDS_BACKWARD_PIN
   61 00000028 6028            str              r0, [r5]
   62 0000002A 4770            BX               LR
   63 0000002C         
   64 0000002C         LEDS_BACKWARD_INVERT
   65 0000002C 6828            ldr              r0, [r5]
   66 0000002E 2800            CMP              r0, #0
   67 00000030 D1FE            BNE              LEDS_BACKWARD_ON
   68 00000032 E7FE            B                LEDS_OFF
   69 00000034         



ARM Macro Assembler    Page 3 


   70 00000034         LEDS_ON
   71 00000034 F04F 00FF       mov              r0, #LEDS_ALL_PIN
   72 00000038 6028            str              r0, [r5]
   73 0000003A 4770            BX               LR
   74 0000003C         
   75 0000003C         
   76 0000003C         LEDS_OFF
   77 0000003C F04F 000C       mov              r0, #LEDS_STOP_PIN
   78 00000040 6028            str              r0, [r5]
   79 00000042 4770            BX               LR
   80 00000044         
   81 00000044         
   82 00000044         END
                       
              40025400 
              4002551C 
              40025500 
              400253FC 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M3 --apcs=interw
ork --depend=.\objects\leds.d -o.\objects\leds.o -I.\RTE\_Target_1 -IC:\Users\D
arkvanus\AppData\Local\Arm\Packs\ARM\CMSIS\5.7.0\CMSIS\Core\Include -IC:\Users\
Darkvanus\AppData\Local\Arm\Packs\ARM\CMSIS\5.7.0\Device\ARM\ARMCM3\Include --p
redefine="__EVAL SETA 1" --predefine="__MICROLIB SETA 1" --predefine="__UVISION
_VERSION SETA 533" --predefine="_RTE_ SETA 1" --predefine="ARMCM3 SETA 1" --pre
define="_RTE_ SETA 1" --list=.\listings\leds.lst Leds.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 24 in file Leds.s
   Uses
      None
Comment: .text unused
END 00000044

Symbol: END
   Definitions
      At line 82 in file Leds.s
   Uses
      None
Comment: END unused
LEDS_BACKWARD_INVERT 0000002C

Symbol: LEDS_BACKWARD_INVERT
   Definitions
      At line 64 in file Leds.s
   Uses
      At line 33 in file Leds.s
Comment: LEDS_BACKWARD_INVERT used once
LEDS_BACKWARD_ON 00000024

Symbol: LEDS_BACKWARD_ON
   Definitions
      At line 59 in file Leds.s
   Uses
      At line 30 in file Leds.s
      At line 67 in file Leds.s

LEDS_FORWARD_ON 0000001C

Symbol: LEDS_FORWARD_ON
   Definitions
      At line 54 in file Leds.s
   Uses
      At line 29 in file Leds.s
Comment: LEDS_FORWARD_ON used once
LEDS_INIT 00000000

Symbol: LEDS_INIT
   Definitions
      At line 36 in file Leds.s
   Uses
      At line 28 in file Leds.s
Comment: LEDS_INIT used once
LEDS_OFF 0000003C

Symbol: LEDS_OFF
   Definitions
      At line 76 in file Leds.s
   Uses
      At line 32 in file Leds.s
      At line 68 in file Leds.s

LEDS_ON 00000034



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols


Symbol: LEDS_ON
   Definitions
      At line 70 in file Leds.s
   Uses
      At line 31 in file Leds.s
Comment: LEDS_ON used once
8 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

GPIO_O_DEN 0000051C

Symbol: GPIO_O_DEN
   Definitions
      At line 20 in file Leds.s
   Uses
      At line 41 in file Leds.s
Comment: GPIO_O_DEN used once
GPIO_O_DIR 00000400

Symbol: GPIO_O_DIR
   Definitions
      At line 18 in file Leds.s
   Uses
      At line 37 in file Leds.s
Comment: GPIO_O_DIR used once
GPIO_O_DR2R 00000500

Symbol: GPIO_O_DR2R
   Definitions
      At line 19 in file Leds.s
   Uses
      At line 45 in file Leds.s
Comment: GPIO_O_DR2R used once
GPIO_PORTF_BASE 40025000

Symbol: GPIO_PORTF_BASE
   Definitions
      At line 17 in file Leds.s
   Uses
      At line 37 in file Leds.s
      At line 41 in file Leds.s
      At line 45 in file Leds.s
      At line 49 in file Leds.s

LEDS_ALL_PIN 000000FF

Symbol: LEDS_ALL_PIN
   Definitions
      At line 7 in file Leds.s
   Uses
      At line 38 in file Leds.s
      At line 42 in file Leds.s
      At line 46 in file Leds.s
      At line 49 in file Leds.s
      At line 71 in file Leds.s

LEDS_BACKWARD_PIN 00000000

Symbol: LEDS_BACKWARD_PIN
   Definitions
      At line 9 in file Leds.s
   Uses
      At line 60 in file Leds.s
Comment: LEDS_BACKWARD_PIN used once
LEDS_FORWARD_PIN 0000003C

Symbol: LEDS_FORWARD_PIN
   Definitions



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

      At line 8 in file Leds.s
   Uses
      At line 55 in file Leds.s
Comment: LEDS_FORWARD_PIN used once
LEDS_STOP_PIN 0000000C

Symbol: LEDS_STOP_PIN
   Definitions
      At line 10 in file Leds.s
   Uses
      At line 77 in file Leds.s
Comment: LEDS_STOP_PIN used once
8 symbols
353 symbols in table
